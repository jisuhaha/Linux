2023.12.15
# 방화벽
 
| 방화벽 종류 | 설명 |
|--|--|
| 패킷 필터링 방화벽  | 1세대 방화벽 <br>Layer1~4에서 사용 (IP와 port를 통해 제어)<br>단순하여 빠르고 효과적|
| Stateful 방화벽 | 제 2세대 방화벽 <br>패킷의 연결상태를 관찰 메모리에서 상태 테이블 사용 |
| 애플리케이션 레이어 방화벽 | 제 3세대 방화벽 <br>레이어 7까지 패킷검사 및 필터링 |
Netfilter는 iptables와 매우 유사

firewall-config GUI 기반
firewall-cmd 명령어 기반
서버가 알고있는 서비스의 경우 편하게 관리 가능( /etc/services )
> vi /etc/services
> \# /etc/services:
> \# $Id: services,v 1.49 2017/08/18 12:43:23 ovasik Exp $
> ...
> \# service-name  port/protocol  [aliases ...]   [\# comment]
> 
> tcpmux          1/tcp                           \# TCP port service multiplexer
> tcpmux          1/udp                           \# TCP port service multiplexer
> rje             5/tcp                           \# Remote Job Entry
> rje             5/udp                           \# Remote Job Entry
> echo            7/tcp
> echo            7/udp
> discard         9/tcp           sink null
> discard         9/udp           sink null
> systat          11/tcp          users
> systat          11/udp          users
> daytime         13/tcp
> daytime         13/udp
> qotd            17/tcp          quote
> qotd            17/udp          quote
> chargen         19/tcp          ttytst source
> chargen         19/udp          ttytst source
> ftp-data        20/tcp
> ftp-data        20/udp
> \# 21 is registered to ftp, but also used by fsp
> ftp             21/tcp
> ftp             21/udp          fsp fspd
> ssh             22/tcp                          \# The Secure Shell (SSH) Protocol
> ssh             22/udp                          \# The Secure Shell (SSH) Protocol
> telnet          23/tcp
> telnet          23/udp
> \# 24 - private mail system
> lmtp            24/tcp                          \# LMTP Mail Delivery
> lmtp            24/udp                          \# LMTP Mail Delivery
> smtp            25/tcp          mail
> smtp            25/udp          mail
> time            37/tcp          timserver
> time            37/udp          timserver
> rlp             39/tcp          resource        \# resource location
> ...

firewalld에서 사용하는 서비스의 경로 : /usr/lib/firewalld/services/ , /etc/firewalld/services/


영구적용을 하는 경우 --permanent 추가
	- firewall-cmd --list-all : 방화벽 서비스 확인
	- firewall-cmd --add-service={ServiceName} : 서비스 추가
	- firewall-cmd --remove-service={ServiceName} : 서비스 제거
	- firewall-cmd --reload : firewall가 인식하도록 적용
	- firewall-cmd --get-default-zone : 현재 사용중인 기본 Zone을 확인하는 경우 (/etc/firewalld/firewalld.conf에 정의)
	> [root@server ~]# firewall-cmd --get-default-zone
public


> Written with [StackEdit](https://stackedit.io/).
<!--stackedit_data:
eyJoaXN0b3J5IjpbMTMxNjIxNTc4MywxNDQ5MzczODUzLDE5OD
Q5MTY0ODcsMjUyMjM1Nzk3LC05MDkwNzE3NTYsNzMwOTk4MTE2
XX0=
-->